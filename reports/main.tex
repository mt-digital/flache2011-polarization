% Took this from CogSci but removed the header, sorry.
%
% Author: Matthew Turner
% Date: 2017-11-23

\documentclass[11pt,letterpaper]{article}

\usepackage{lineno}
\linenumbers
% \usepackage{cogsci}
\usepackage{fullpage}
\usepackage{booktabs}
\usepackage{setspace}
\doublespacing
\usepackage{pslatex}
\usepackage{hyperref}
\usepackage{url}
\usepackage{apacite}
\usepackage{amsmath}
\usepackage{subcaption}
\usepackage[utf8]{inputenc}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\usepgfplotslibrary{groupplots}
\usepackage{wrapfig}
\usepackage{bigfoot}
\usepackage[export]{adjustbox}
\setlength\intextsep{0pt}
\usepackage{authblk}



\usepackage{graphicx}

\usepackage{gb4e}  % linguistic examples
\noautomath

\title{Polarization is sensitive to initial opinion extremity, 
agent update path, and communication noise}

\author[1]{Matthew~A.~Turner}
\author[1]{Paul~E.~Smaldino}

\affil[1]{\footnotesize Cognitive Science Program, University of California, Merced}

\date{}

\begin{document}
\maketitle

% \begin{abstract}
%   Opinion dynamics in general models how attributes of agents in a population
%   change over time. This paper reproduces and extends the investigation of
%   \citeA{Flache2011} into how cultural polarization emerges in populations
%   connected on a small-world network. Their results do much to shed light
%   on what might be the necessary requirements for polarization to occur.
%   Importantly, opinions must be measured in a way that allows for negative
%   valence of opinion, representing being ``against'' some cultural object.
%   Here we add three further considerations we believe are important in 
%   modeling when polarization obtains. First, we show that final polarization
%   is sensitive to the initial extremity of agent opinions. Second, we quantify
%   how robust polarizing dynamics are to noise. 
% \end{abstract}

\section{Introduction}

\subsection{Key results}

\begin{itemize}
  \item \textbf{Final polarization is update path-dependent.}
    \begin{itemize}
      \item (Figure~\ref{fig:single-experiments-over-k})
        Final polarizations can obtain for the non-random network that
        are larger than the average of trials of the small world network
        generated by adding random long-range ties. In other words, a
        small world network is not necessary for large polarization values.
        It is also not sufficient, as small-world networks can collapse to
        values of polarization smaller than the average for the connected
        caveman network trials. 
      \item (Figure~\ref{fig:final-initial-pol-regplot}) In the non-random
        condition, final polarization is correlated wtih initial polarization,
        but not perfectly ($r=0.37$). Since the network structure is uniform in this
        experiment, the rest of the variance must come from differences in 
        update paths.
      \item (Figure~\ref{fig:highpol-histogram}) 
        Starting with identical initial distributions
        and the non-random connected caveman network results in a distribution
        of final polarizations. This demonstrates that, for the parameters
        tested, initial conditions in general do not determine final system
        configuration. It seems that initial conditions \emph{bias} the system
        towards higher final polarizations.
    \end{itemize}
  \item \textbf{Final polarization is sensitive to initial conditions.}    
    \begin{itemize}
      \item (Figure~\ref{fig:final-initial-pol-regplot}) For the connected 
        caveman graph and the default Flache and Macy initial conditions ($S=1.0$),
        final polarization and initial polarization are 
        correlated ($r=.37$). 
      \item (Figures~\ref{fig:zoom_average},~\ref{fig:zoom_median}) 
        As we artificially lowered the magnitude of 
        initial agent opinions, large final polarizations became more rare
        in the small world experiment of \citeA{Flache2011}: 
        20 long-range random ties added at iteration 2000.
      \item (Figure~\ref{fig:single_S_K}) As we showed for the connected 
        caveman case, initial conditions do not completely determine the
        final polarization. As we decreased $S$, polarization did not 
        decrease completely even when average and median polarization vanished.
        Some simulations still ended in highly polarized final states.
    \end{itemize}
  \item \textbf{Final polarization is sensitive to communication noise.}    
    \begin{itemize}
      \item (Figure~\ref{fig:heatmaps})
      \item (Figure~\ref{fig:single-runs-commnoise})
    \end{itemize}
\end{itemize}

\subsection{The rest of the intro}

In the most abstract, at any point in time, culture is the state of all
constituent minds each in their individual states. Culture changes when 
individuals change. Individuals change under the influence of other 
individuals. How do individuals change their mental state and how is the
state of culture measured as a whole? There are many possible ways. A popular
metric for characterizing the joint mental state 
of a population is \emph{polarization}.
Polarization can be measured a multitude of ways \cite{Bramson2016}. The 
concept of polarization has meaning in physics as well---the water molecule
is slightly polarized, for example, giving rise to the van der Waal's force
and high surface tension. In this paper we consider the structural forces that
arise and we call ``polarization'' with respect to agent mental states called
opinions. 

One of the first was \cite{Axelrod1997}, where each cultural feature was a 
digit from 1-9. 

In the model we consider, due to \citeA{Flache2011}, agents' opinions
change based on a weighted difference of their opinions with their neighbors
opinions. Agents are nodes on a network, and relationships are edges of the
network. The edges of this model are weighted and undirected, so each 
connected pair of agents has equal influence over one another, as far as
weights are concerned. A feature of this model is that extremists' opinions
are more entrenched than centrists' opinions, so if an extremist and centrist
are connected, the extremist in a dyad has more \emph{effective} influence 
than a centrist. 

Each agent's mental state is a vector of opinions on a set of cultural features.
The number of cultural features in the model is called the \emph{cultural 
complexity}. We adopt the viewpoint that cultural evolution is a form
of distributed computation \cite{Smaldino2013}. What exactly does the system
compute? It computes its own equilibrium states. We show in this paper that
just what equilibrium state the system finds depends not only on initial
conditions, but also on the order agent opinions and inter-agent weights are 
updated. The results from \citeA{Flache2011} might suggest that maximum 
levels of system polarization only obtain if the cultural complexity is 
sufficiently small, or if the network is in the ``small world'' condition
induced by randomizing a connected caveman network. To be fair, \citeA{Flache2011}
do not make this strong of a conclusion, but they also do not explore the
sources of variation of the final polarization of individual model runs 
that are aggregated to mean values and presented in that paper.
We demonstrate here that particular values of 
initial conditions, cultural complexity, and 
network structure are not necessary conditions for high levels of 
final polarization. Instead, these factors should be understood as biases 
that favor evolution towards equilibria of higher or lower final polarization. 
Specifically, we demonstrate that non-randomized connected caveman 
networks can also reach near-maximal final polarization 
equilibria, as can systems with large cultural
complexities. We demonstrate that there is a smallest initial condition that
causes all system evolutions to reach consensus for any cultural complexity
that is greater than a trivial, obvious one. In doing so, we show that the
update path can lead a system with identical initial conditions to different 
final polarizations. We support our claim that the system is finding local 
extrema by demonstrating that there is a critical level of communication noise
that will percolate the system to steady states of maximal polarization. 
This is similar to simulated annealing, but the system freezes itself 
due to the fact that extreme positions become increasingly immobile in 
the \citeA{Flache2011} model.

\subsection{Summary of Flache and Macy (2011) model}

\section{Methods}
\label{sec:methods}

\section{Results}

\subsection{Variation in original Flache and Macy Results}

We first explore variability in the original \citeA{Flache2011} results.
We show below that there is in fact large variability in final polarization
values that aggregate to the means presented in that paper. What causes
this variability? 

One main result of
\citeA{Flache2011} was that polarization decreases with cultural complexity.
To demonstrate our model is working as theirs is, compare Figure 
\ref{fig:p_vs_K_fm} to Figure 12b of \citeA{Flache2011}---these figures
are identical.
However, when plotting the mean as well as the results of individual trials,
we see that the mean captures some, but not all, of the detail of what's 
happening in terms of opinion dynamics. It is not at all rare for trials to
have final polarizations far from the average 
(Figure~\ref{fig:p_vs_K_single_experiments}). 


Where does
this variation come from? It seems there are two sources: the specific
initial opinions that agents draw from the uniform distribution and the
update path. As (WILL BE) explained in the introduction/methods, 
the \citeA{Flache2011} an iteration is defined as $N$ updates of either a 
weight or an edge.  By ``update path,'' we mean which edges or weights are 
updated in what order. 

First, to see what effect the exact initial distribution has on the final 
polarization we regressed final polarization against initial polarization for
$K=2$ for the non-random connected caveman graph 
(Figure~\ref{fig:final-initial-pol-regplot}, whose final polarizations are 
plotted in the $K=2$ column of Figure~\ref{fig:connected-caveman-trials}.
While there is a trend, there is still much noise with final polarizations
far above and below the regression line. 

To evaluate the path dependence, we ran another 100 trials using the initial
conditions from the $K=2$, connected caveman trial
with the maximum final polarization of 0.86. The distribution of outcomes was
skewed towards polarizations higher than the mean for connected caveman, $K=2$,
which was .41 (Figure~\ref{fig:highpol-histogram}). However, there are many,
though a minority, of trials that end \emph{below} that mean. This seems to
suggest that update path has a large impact on the final polarization of a
given trial. However, initial conditions can bias the final polarization. 

Why is this? Consider the space of all update paths. 
There are ($N_{iter} \times N_{agents} \times N_{weights}$?) of these.
I hypothesize this is because larger initial polarizations means a larger
fraction of these paths are polarizing. This may well be related to the 
concept of signed graphs: graphs where one can perfectly separate the graph
into two graphs where all agents are friendly with each other, i.e. 
$w_{ij} > 0$ for all agents $i,j$ \cite{Altafini2012}. There are measures of
signedness, and I have a feeling that signedness tracks with polarization.
That is, as the iterations progress, we could plot signedness as well as 
polarization, and when signedness breaks different thresholds, higher levels of
polarization become inevitable.


\subsection{Initial opinion extremism and polarization}

\citeA{Flache2011} considered the effect of modifying two parameters under their
``Experiment 2.'' This experiment, which is the only one we consider in this
work, experimented with different values of cultural complexity, $K$, and 
different cave sizes. We were curious to understand more about exactly when
polarization emerges, especially with respect to the extremity of opinion
for different cultural complexities. To quantify the affect of extremity of
opinion, we introduced a new parameter $S \in [0, 1]$ that constrains the
extremity of initial opinions. Instead of initial opinions on each
cultural feature being drawn with uniform probability from $[-1, 1]$ they are
instead drawn from $[-S, S]$. 

We performed copmutational experiments to determine the minimum $S$ 
in order for non-zero (greater than 1e-6) polarization to emerge. Clearly if 
$S\leq0.5$ there can be no polarization because all distance are less than 1,
which means all weights will be positive, all
relationships will be friendly, and all agents will be drawn towards some 
consensus point. Our initial experiments (Figure \ref{fig:p_vs_s_for_k})
showed that average polarization was zero for $S < 0.75$ when $K=2$. 
The critical $S$ seems to change for different values of $K$. For example,
average polarization does not increase until $S=0.8$ for $K=3$. For other $K$,
polarization seems to increase to different degrees, with some noise, starting
between $S=0.85$ and $S=0.9$. It appears for $K=3$ that average polarization
decreases from $S=0.95$ to $S=1.0$. There is a large bump in average 
polarization at $S=0.9$ for $K=6$. Is this something real due to some special
configuration for these parameters, or is it noise? (Of course it is not a bug
in our code!)

To better understand the behavior we saw there, we ran a new set of simulations
with 100 trials for each parameter setting, and ran $S$ from 0.75 to 1.0 for
$K=2, 3, 4$ and from 0.85 to 1.0 for $K=5,6$, all with a smaller step size 
of 0.01 (Figure~\ref{fig:zoom_average}). Since the results still appear
noisy, we also plotted median polarization verus $S$ for the different $K$
(Figure~\ref{fig:zoom_median}). The median is still noisy. So, to get even
more detail, we visualized each trial result, and the average, individually
over the $S$ values we tested with 100 trials (Figure~\ref{fig:single_S_K}).
There is indeed a large amount of variation, which seems to increase as $S$
increases.


% \begin{figure}[t!]
%   \centering
%     \includegraphics[width=0.75\textwidth]{Figures/p_v_s_k6_histograms.pdf}
%   \caption{Distribution of non-zero final polarization values for $K=6$.
%     Corresponds to the experiment run shown in Figure \ref{fig:zoomK6}.
%   }
%   \label{fig:K6-histograms}
% \end{figure}


\subsection{Sources of single-trial polarization}


\subsection{Communication noise and polarization}



\section{Discussion}

Our results suggest that, in real-world political problems, 
like the previously-mentioned constitutional crises in Egypt or Venezuela,
it is crucial to change the opinions of certain actors before others. Such 
situations are not fated to descend into chaos and violence. It is not a
random number generator that determines who we interact with and learn from 
in the real world. We do not have to choose the path that leads to higher 
polarization, we can choose one that leads to an equilibrium with a lower
polarization.  We have shown that understanding one another well can lead to 
less polarized outcomes. If we do not, it does not matter how politically savvy
a society is, it will find itself in a state of high tension.

Our results suggest deeper principles at work, and we now must ask, how can
we characterize the different update paths?

\clearpage

\input{figures.tex}

\clearpage

\bibliographystyle{apacite}

\setlength{\bibleftmargin}{.125in}
\setlength{\bibindent}{-\bibleftmargin}

\bibliography{/Users/mt/workspace/papers/library.bib}

\end{document}
